<?xml version="1.0" encoding="utf-8"?>

<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:MovieExplorer.ViewModels"
             x:Class="MovieExplorer.Views.Templates.SearchBarTemplate" x:DataType="viewModels:MovieViewModel">
    <Grid>
        <Grid.GestureRecognizers>
            <TapGestureRecognizer Tapped="OnSearchTapped"/>
        </Grid.GestureRecognizers>
        <!-- invisible entry to capture input -->
        <Entry x:Name="SearchEntry"
               Text="{Binding SearchText}"
               Placeholder="Search"
               HorizontalOptions="Fill"
               VerticalOptions="Fill"
               Margin="20"
               Opacity="0"
               TextChanged="SearchEntry_OnTextChanged"/>
        <!-- rating out of 10-->
        <Border
            Margin="12"
            BackgroundColor="{StaticResource ElementsLight}"
            StrokeThickness="1"
            Padding="15"
            StrokeShape="RoundRectangle 12">

            <Border
                BackgroundColor="{StaticResource ForegroundColorLight}"
                StrokeThickness="0"
                Padding="15"
                StrokeShape="RoundRectangle 20">

                <Grid ColumnDefinitions="*,Auto" VerticalOptions="Center">

                    <!-- placeholder -->
                    <Label x:Name="SearchLabel"
                       FontSize="18"
                       TextColor="#555"
                       VerticalOptions="Center"
                       />
                    <!-- search icon -->
                    <Image Grid.Column="1"
                           Source="search.png"
                           HeightRequest="22"
                           WidthRequest="22"
                           VerticalOptions="Center"
                           Margin="10,0,0,0"/>
                </Grid>
            </Border>
        </Border>
    </Grid>
</ContentView>